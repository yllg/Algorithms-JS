<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // æƒ…å†µä¸€: returnç»“æžœå€¼ï¼šéžthenableã€éžpromiseï¼ˆä¸ç­‰å¾…ï¼‰
    // async function testA() {
    //   return 1;
    // }

    // testA().then(() => console.log(1));
    // Promise.resolve()
    //   .then(() => console.log(2))
    //   .then(() => console.log(3));
    // (ä¸ç­‰å¾…)æœ€ç»ˆç»“æžœðŸ‘‰: 1 2 3


    // æƒ…å†µäºŒ: returnç»“æžœå€¼ï¼šthenableï¼ˆç­‰å¾… 1ä¸ªthençš„æ—¶é—´ï¼‰
    // async function testB() {
    //   return {
    //     then(cb) {
    //       cb();
    //     }
    //   };
    // }

    // testB().then(() => console.log(1));
    // Promise.resolve()
    //   .then(() => console.log(2))
    //   .then(() => console.log(3));
    // (ç­‰å¾…ä¸€ä¸ªthen)æœ€ç»ˆç»“æžœðŸ‘‰: 2 1 3


    // æƒ…å†µä¸‰: returnç»“æžœå€¼ï¼špromiseï¼ˆç­‰å¾… 2ä¸ªthençš„æ—¶é—´ï¼‰
    async function testC() {
      return new Promise((resolve, reject) => {
        resolve()
      })
    }

    testC().then(() => console.log(1));
    Promise.resolve()
      .then(() => console.log(2))
      .then(() => console.log(3))
      .then(() => console.log(4))
    // (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æžœðŸ‘‰: 2 3 1 4
  </script>
</body>

</html>